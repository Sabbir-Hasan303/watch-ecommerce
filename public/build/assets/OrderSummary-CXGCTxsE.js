import{j as e,B as s}from"./mui-BKRBi9c6.js";import{C as a}from"./card-DBmDQUNT.js";import{D as t,d as l,a as i,b as r,c as d,e as x}from"./dialog-Bvjd5N6n.js";import{T as c}from"./Taka-HCVrmtu1.js";import{P as n,S as m}from"./send-Ds1txHbe.js";import{E as o}from"./eye-C6XdZ-Tw.js";import"./utils-Dp6QJa9S.js";import"./radix-BUpndTlX.js";import"./x-BWEyoRfZ.js";import"./createLucideIcon-DTafSqzE.js";function h({subtotal:h,discountAmount:j,discountValue:p,shippingCost:N,tax:f,total:b,isCompact:g=!1,selectedCustomer:u,cart:v,shippingAddress:y,showInvoicePreview:w,setShowInvoicePreview:F,handlePlaceOrder:T,isSubmitting:k=!1}){if(g)return e.jsxs(a,{className:"p-6 bg-card border-border shadow-sm sticky top-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-lg",children:e.jsx(c,{className:"text-2xl p-2"})}),e.jsx("h2",{className:"text-xl leading-8 font-bold text-text-primary",children:"Order Summary"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(c,{className:"text-sm"}),h.toFixed(2)]})]}),j>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[e.jsx(n,{className:"w-3 h-3"}),"Discount (",j,"%)"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(c,{className:"text-sm"}),p.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(c,{className:"text-sm"}),N.toFixed(2)]})]}),f>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tax (8%)"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(c,{className:"text-sm"}),f.toFixed(2)]})]}),e.jsxs("div",{className:"pt-4 border-t border-border flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-foreground text-lg",children:"Total"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(c,{className:"text-sm"}),b.toFixed(2)]})]})]})]});const S="inside_dhaka"===y.area?"Inside Dhaka":"Outside Dhaka";return e.jsxs(a,{className:"p-6 dark:bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border-emerald-500/20 shadow-lg sticky top-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-lg",children:e.jsx(c,{className:"text-2xl p-2"})}),e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Final Total"})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(c,{className:"text-sm"}),h.toFixed(2)]})]}),j>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-emerald-500",children:"Discount"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(c,{className:"text-sm"}),p.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(c,{className:"text-sm"}),N.toFixed(2)]})]}),f>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tax"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(c,{className:"text-sm"}),f.toFixed(2)]})]}),e.jsxs("div",{className:"pt-4 border-t border-emerald-500/20 flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-foreground text-lg",children:"Total"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(c,{className:"text-sm"}),b.toFixed(2)]})]})]}),e.jsxs(t,{open:w,onOpenChange:F,children:[e.jsx(l,{asChild:!0,children:e.jsxs(s,{variant:"outline",className:"w-full mb-3 bg-transparent",children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),"Preview Invoice"]})}),e.jsxs(i,{className:"max-w-2xl max-h-[80vh] overflow-auto",children:[e.jsxs(r,{children:[e.jsx(d,{children:"Invoice Preview"}),e.jsx(x,{children:"Review the invoice before placing the order"})]}),e.jsxs("div",{className:"p-8 bg-white text-black rounded-lg",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("h2",{className:"text-3xl font-bold",children:"INVOICE"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Bill To:"}),e.jsx("p",{className:"font-medium",children:u?.name}),e.jsx("p",{className:"text-sm text-gray-600",children:u?.email}),u?.personal_phone?e.jsx("p",{className:"text-sm text-gray-600",children:u?.personal_phone}):e.jsx("p",{className:"text-sm text-gray-600",children:y.phone})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Ship To:"}),e.jsx("p",{className:"text-sm font-medium",children:y.fullName}),e.jsx("p",{className:"text-sm text-gray-600",children:y.email}),e.jsx("p",{className:"text-sm text-gray-600",children:y.phone}),e.jsxs("p",{className:"text-sm text-gray-600",children:[y.address," (",S,")"]})]})]}),e.jsxs("table",{className:"w-full mb-8",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3",children:"Item"}),e.jsx("th",{className:"text-right py-3",children:"Qty"}),e.jsx("th",{className:"text-right py-3",children:"Price"}),e.jsx("th",{className:"text-right py-3",children:"Total"})]})}),e.jsx("tbody",{children:v.map(s=>e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-3",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),s.variantTitle&&e.jsxs("div",{className:"text-sm text-gray-500",children:["Variant: ",s.variantTitle]})]})}),e.jsx("td",{className:"text-right",children:s.quantity}),e.jsxs("td",{className:"text-right",children:[e.jsx("span",{className:"text-xl mr-1",children:"৳"}),(s.price||0).toFixed(2)]}),e.jsxs("td",{className:"text-right",children:[e.jsx("span",{className:"text-xl mr-1",children:"৳"}),((s.price||0)*s.quantity).toFixed(2)]})]},s.id))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"w-72 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{children:[e.jsx("span",{className:"text-xl mr-1",children:"৳"}),h.toFixed(2)]})]}),j>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsxs("span",{children:["Discount (",j,"%):"]}),e.jsxs("span",{children:[e.jsx("span",{className:"text-xl mr-1",children:"৳"}),-p.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Shipping:"}),e.jsxs("span",{children:[e.jsx("span",{className:"text-xl mr-1",children:"৳"}),N.toFixed(2)]})]}),f>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tax:"}),e.jsxs("span",{children:[e.jsx("span",{className:"text-xl mr-1",children:"৳"}),f.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-bold text-xl border-t-2 border-gray-300 pt-3 mt-3",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:[e.jsx("span",{className:"text-2xl font-bold mr-1",children:"৳"}),b.toFixed(2)]})]})]})})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx(s,{variant:"outline",className:"flex-1 bg-transparent",onClick:()=>F(!1),children:"Close"})})]})]}),e.jsx(s,{onClick:T,disabled:k,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white shadow-lg dark:shadow-emerald-500/30 h-14 text-base font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:k?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"w-5 h-5 mr-2"}),"Place Order"]})})]})}export{h as default};

import{j as e,r as s}from"./mui-BKRBi9c6.js";import{H as r,u as a,L as l}from"./vendor-CXfu1X1j.js";import{G as t}from"./GuestLayout-D3iINqMY.js";import{u as i}from"./CartContext-DjfH1BQF.js";import{T as d}from"./Taka-HCVrmtu1.js";import{C as n}from"./chevron-left-CvYp6kNR.js";import"./Navbar-iDX5aUd4.js";import"./user-D2E5EHqK.js";import"./createLucideIcon-DTafSqzE.js";import"./shopping-cart-CL8or4bS.js";import"./index-DnSngz2F.js";import"./Footer--wJmCuTR.js";import"./twitter-BTKGyMIz.js";import"./CartSidebar-BtMGTNJ9.js";import"./x-BWEyoRfZ.js";import"./minus-BJgHQvPy.js";import"./plus-avlLwFjE.js";import"./app-BLkjJg0m.js";function o({shippingOptions:r={},taxSettings:t={enabled:!1,rate:0},authenticatedUser:o=null}){const{items:c,subtotal:m}=i(),x=s.useMemo(()=>Object.keys(r).map(e=>{const s=e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return{value:e,label:s}}),[r]),h=x[0]?.value??"",{data:u,setData:p,post:b,processing:j,errors:g,reset:f}=a({fullName:o?.fullName??"",phone:o?.phone??"",email:o?.email??"",area:o?.area??h,fullAddress:o?.fullAddress??"",orderNotes:""});s.useEffect(()=>{if(!x.length)return;x.some(e=>e.value===u.area)||p("area",h)},[x,h,u.area,p]);const N=e=>{p(e.target.name,e.target.value)},y=Number(m)||0,v=s.useMemo(()=>{if(!u.area)return 0;const e=r?.[u.area];if(!e)return 0;const s="number"==typeof e?e:e?.standard,a=Number.parseFloat(s??0);return Number.isFinite(a)?Number(Number(a).toFixed(2)):0},[u.area,r]),w=Number.parseFloat(t?.rate??0),k=Boolean(t?.enabled),F=s.useMemo(()=>k?Number((y*w/100).toFixed(2)):0,[y,k,w]),C=e=>(Number(e)||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),S=s.useMemo(()=>Number((y+v+F).toFixed(2)),[y,v,F]);v<=0||C(v);const A=k?`Tax (${w}% )`:"Tax",z=C(F);return e.jsxs("div",{className:"max-w-[1440px] mx-auto px-4 py-8",children:[e.jsxs(l,{href:"/",className:"inline-flex items-center gap-2 text-gray-600 hover:text-black mb-6",children:[e.jsx(n,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold",children:"Continue Shopping"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_400px] gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Checkout"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Fill in your details to complete your order as a guest."})]}),(g.cart||g.checkout||Object.keys(g).length>0)&&e.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:[e.jsx("p",{className:"font-semibold mb-2",children:"Please fix the following errors:"}),g.cart&&e.jsxs("p",{children:["• ",g.cart]}),g.checkout&&e.jsxs("p",{children:["• ",g.checkout]}),g.fullName&&e.jsxs("p",{children:["• ",g.fullName]}),g.phone&&e.jsxs("p",{children:["• ",g.phone]}),g.email&&e.jsxs("p",{children:["• ",g.email]}),g.area&&e.jsxs("p",{children:["• ",g.area]}),g.fullAddress&&e.jsxs("p",{children:["• ",g.fullAddress]})]}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),0!==c.length?b(route("checkout.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{f()},onError:e=>{}}):alert("Your cart is empty. Please add items to your cart before checkout.")},className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-6",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold leading-tight",children:"Shipping Address"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter delivery address"})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"fullName",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"fullName",name:"fullName",value:u.fullName,onChange:N,required:!0,className:"w-full px-4 py-3 rounded border focus:outline-none focus:ring-2 "+(g.fullName?"border-red-500 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-black"),placeholder:"Full Name"}),g.fullName&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.fullName})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:N,required:!0,className:"w-full px-4 py-3 rounded border focus:outline-none focus:ring-2 "+(g.phone?"border-red-500 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-black"),placeholder:"Phone Number"}),g.phone&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.phone})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:N,required:!0,className:"w-full px-4 py-3 rounded border focus:outline-none focus:ring-2 "+(g.email?"border-red-500 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-black"),placeholder:"example@gmail.com"}),g.email&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.email})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"area",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Area ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{id:"area",name:"area",value:u.area,onChange:N,className:"w-full px-4 py-3 rounded border focus:outline-none focus:ring-2 "+(g.area?"border-red-500 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-black"),disabled:!x.length,required:!0,children:x.length?x.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value)):e.jsx("option",{value:"",children:"No shipping areas configured"})}),e.jsx("span",{className:"text-xs text-gray-500",children:"Shipping fees may differ by area"}),g.area&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.area})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"fullAddress",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"fullAddress",name:"fullAddress",value:u.fullAddress,onChange:N,required:!0,rows:3,className:"w-full px-4 py-3 rounded border focus:outline-none focus:ring-2 resize-none "+(g.fullAddress?"border-red-500 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-black"),placeholder:"123 Main Street, City, Country"}),g.fullAddress&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.fullAddress})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Payment Method"}),e.jsxs("div",{className:"flex items-center gap-3 p-4 border-2 border-black rounded bg-gray-50",children:[e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-black flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-black"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Cash on Delivery (COD)"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pay when you receive your order"})]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"More payment options will be available soon."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Special Instructions"}),e.jsx("textarea",{id:"orderNotes",name:"orderNotes",value:u.orderNotes,onChange:N,rows:3,className:"w-full px-4 py-3 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-black resize-none",placeholder:"Any special instructions for the delivery"}),g.orderNotes&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.orderNotes})]}),e.jsx("button",{type:"submit",disabled:j||0===c.length,className:"w-full bg-black text-white py-4 px-6 rounded font-semibold hover:bg-gray-800 transition-colors text-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:j?"Processing...":e.jsxs(e.Fragment,{children:["Place Order - ",e.jsx(d,{color:"text-white",size:"text-lg"})," ",e.jsx("span",{children:C(S)})]})})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm sticky top-16",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),e.jsx("div",{className:"space-y-4 mb-6",children:c.map(s=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-20 h-20 rounded overflow-hidden bg-gray-100 flex-shrink-0",children:e.jsx("img",{src:s.image||"/placeholder.svg",alt:s.name,width:80,height:80,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-sm truncate",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Color: ",s.color]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",s.quantity]}),e.jsxs("div",{className:"flex items-baseline gap-1 font-semibold text-sm mt-1",children:[e.jsx(d,{color:"text-black dark:text-white",size:"text-sm"}),e.jsx("p",{children:s.price})]})]})]},s.id))}),e.jsxs("div",{className:"space-y-3 border-t border-gray-200 pt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("div",{className:"flex items-baseline gap-1 font-semibold",children:[e.jsx(d,{color:"text-gray-600",size:"text-sm"}),e.jsx("span",{children:C(y)})]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Shipping"}),v<=0?e.jsx("span",{className:"font-semibold text-green-600",children:"Free"}):e.jsxs("div",{className:"flex items-baseline gap-1 font-semibold",children:[e.jsx(d,{color:"text-gray-800",size:"text-sm"}),e.jsx("span",{children:C(v)})]})]}),k&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:A}),e.jsxs("div",{className:"flex items-baseline gap-1 font-semibold",children:[e.jsx(d,{color:"text-gray-600",size:"text-sm"}),e.jsx("span",{children:z})]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-200 pt-3",children:[e.jsx("span",{children:"Total"}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx(d,{color:"text-black dark:text-white",size:"text-lg"}),e.jsx("span",{children:C(S)})]})]})]})]})})]})]})}function c({shippingOptions:s,taxSettings:a,authenticatedUser:l}){return e.jsxs(t,{children:[e.jsx(r,{title:"Checkout"}),e.jsx(o,{shippingOptions:s,taxSettings:a,authenticatedUser:l})]})}export{c as default};

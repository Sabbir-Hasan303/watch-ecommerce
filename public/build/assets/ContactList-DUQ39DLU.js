import{r as e,j as s,I as a,S as t,e as l,f as r,h as i,i as n,P as c,k as d,l as o,m as x,n as m,o as h,p as j,q as b,B as p,s as u,D as g,u as y,v as f,w as N}from"./mui-BKRBi9c6.js";import{H as v,r as w}from"./vendor-CXfu1X1j.js";import{A as C}from"./AuthenticatedLayout-B0v8q34p.js";import{C as k}from"./CustomTextField-BTuAnPE3.js";import{C as S}from"./card-DBmDQUNT.js";import{M as L}from"./message-square-DwWvx0pE.js";import{M as P}from"./mail-HzjPNmz5.js";import{C as I}from"./calendar-Bz-UuUUy.js";import{E as A}from"./eye-C6XdZ-Tw.js";import{P as z}from"./phone-B1tXquFH.js";import"./Navbar-Cp-VK2OZ.js";import"./app-BLkjJg0m.js";import"./Sidebar-HDh619-e.js";import"./utils-Dp6QJa9S.js";import"./user-check-BkBYIEHF.js";import"./createLucideIcon-DTafSqzE.js";import"./package-BZ0coysK.js";import"./chevron-right-CHPI7KdZ.js";import"./chevron-left-CvYp6kNR.js";import"./user-D2E5EHqK.js";import"./index-DnSngz2F.js";function D({contacts:D}){const[M,E]=e.useState(""),[R,W]=e.useState(0),[B,T]=e.useState(null),[F,$]=e.useState(10),[q,H]=e.useState(0),U=(D||[]).map(e=>({id:e.id,name:e.name||"",email:e.email||"",subject:e.subject||"",message:e.message||"",status:e.status||"new",date:e.date||e.created_at||null})),O=U.filter(e=>{const s=(e.name||"").toLowerCase().includes(M.toLowerCase())||(e.email||"").toLowerCase().includes(M.toLowerCase())||(e.subject||"").toLowerCase().includes(M.toLowerCase()),a=["all","new","replied"][R],t="all"===a||e.status===a;return s&&t});e.useEffect(()=>{H(0)},[M,R]);const _=O.slice(q*F,q*F+F),G=U.filter(e=>"new"===(e.status||"new")).length,J=U.filter(e=>"replied"===e.status).length;return s.jsxs(C,{children:[s.jsx(v,{title:"Contact List"}),s.jsxs("div",{className:"py-4 custom-container mx-auto md:px-[40px] md:py-[18px]",children:[s.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:s.jsx("h2",{className:"text-2xl leading-9 font-bold text-text-primary mb-6",children:"Contact List"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(S,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-secondary mb-1",children:"Total Messages"}),s.jsx("p",{className:"text-3xl font-bold text-text-primary",children:U.length})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-xl flex items-center justify-center",children:s.jsx(L,{className:"w-6 h-6 text-blue-500"})})]})}),s.jsx(S,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-secondary mb-1",children:"New"}),s.jsx("p",{className:"text-3xl font-bold text-text-primary",children:G})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-500/10 rounded-xl flex items-center justify-center",children:s.jsx(P,{className:"w-6 h-6 text-orange-500"})})]})}),s.jsx(S,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-secondary mb-1",children:"Replied"}),s.jsx("p",{className:"text-3xl font-bold text-text-primary",children:J})]}),s.jsx("div",{className:"w-12 h-12 bg-green-500/10 rounded-xl flex items-center justify-center",children:s.jsx(L,{className:"w-6 h-6 text-green-500"})})]})})]}),s.jsx(S,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[s.jsx("div",{className:"flex-1 w-full md:max-w-md",children:s.jsx("div",{className:"relative",children:s.jsx(k,{placeholder:"Search messages...",value:M,onChange:e=>E(e.target.value),className:"pl-10",InputProps:{startAdornment:s.jsx(a,{position:"start",children:s.jsx(t,{className:"w-4 h-4 mr-2"})})}})})}),s.jsx(l,{sx:{display:"flex",alignItems:"center",gap:2},children:s.jsxs(r,{value:R,onChange:(e,s)=>W(s),sx:{"& .MuiTabs-indicator":{backgroundColor:"#10B981"},"& .MuiTab-root":{color:"#9CA3AF",textTransform:"none",fontWeight:500,minHeight:40,"&.Mui-selected":{color:"#10B981"},"&:hover":{color:"#6B7280"}}},children:[s.jsx(i,{label:"All"}),s.jsx(i,{label:"New"}),s.jsx(i,{label:"Replied"})]})})]})}),s.jsxs("div",{className:"",children:[s.jsx(n,{component:c,sx:{maxHeight:"500px"},className:"table-container",children:s.jsxs(d,{sx:{minWidth:650},"aria-label":"contacts table",children:[s.jsx(o,{children:s.jsxs(x,{className:"table-header-cell dark:table-header-cell",sx:{minWidth:150},children:[s.jsx(m,{className:"table-header-cell dark:table-header-cell",children:"Name"}),s.jsx(m,{className:"table-header-cell dark:table-header-cell",children:"Email"}),s.jsx(m,{className:"table-header-cell dark:table-header-cell",children:"Subject"}),s.jsx(m,{className:"table-header-cell dark:table-header-cell",children:"Date"}),s.jsx(m,{className:"table-header-cell dark:table-header-cell",children:"Status"}),s.jsx(m,{className:"table-header-cell dark:table-header-cell",children:"Actions"})]})}),s.jsx(h,{children:_.map(e=>s.jsxs(x,{sx:{"&:last-child td, &:last-child th":{border:0},"&:hover":{bgcolor:"rgba(55, 65, 81, 0.3)"},borderColor:"#374151"},children:[s.jsx(m,{className:"table-body-cell dark:table-body-cell",children:e.name}),s.jsx(m,{className:"table-body-cell dark:table-body-cell",children:e.email}),s.jsx(m,{className:"table-body-cell dark:table-body-cell",children:e.subject}),s.jsx(m,{className:"table-body-cell dark:table-body-cell",children:s.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(I,{size:16}),s.jsx(j,{variant:"body2",children:e.date?new Date(e.date).toLocaleDateString():"-"})]})}),s.jsx(m,{className:"table-body-cell dark:table-body-cell",children:s.jsx(b,{label:(e.status||"new").charAt(0).toUpperCase()+(e.status||"new").slice(1),size:"small",sx:{bgcolor:"new"===(e.status||"new")?"rgba(249, 115, 22, 0.1)":"rgba(34, 197, 94, 0.1)",color:"new"===(e.status||"new")?"#F97316":"#22C55E",border:"none","&:hover":{bgcolor:"new"===(e.status||"new")?"rgba(249, 115, 22, 0.2)":"rgba(34, 197, 94, 0.2)"}}})}),s.jsx(m,{className:"table-body-cell dark:table-body-cell",children:s.jsx(p,{variant:"outlined",size:"small",startIcon:s.jsx(A,{size:16}),sx:{padding:"7px 11px",minWidth:"0px","& .MuiButton-startIcon":{marginRight:0,marginLeft:0}},onClick:()=>T(e)})})]},e.id))})]})}),s.jsx(u,{className:"table-pagination dark:table-pagination",rowsPerPageOptions:[5,10,25,50,100],component:"div",count:O.length,rowsPerPage:F,page:q,onPageChange:(e,s)=>H(s),onRowsPerPageChange:e=>{$(parseInt(e.target.value,10)),H(0)},labelDisplayedRows:({from:e,to:s,count:a})=>`${e}-${s} of ${-1!==a?a:`more than ${s}`}`})]})]})]}),s.jsxs(g,{open:!!B,onClose:()=>T(null),maxWidth:"md",fullWidth:!0,PaperProps:{sx:{bgcolor:"#1C252E",border:"1px solid #374151"}},children:[s.jsx(y,{sx:{fontSize:"1.25rem",fontWeight:600},className:"text-text-primary",children:"Contact Message Details"}),B&&s.jsx(f,{className:"text-text-primary",children:s.jsx(l,{sx:{mt:2,display:"flex",flexDirection:"column",gap:3},children:s.jsxs(l,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:3},children:[s.jsxs(l,{children:[s.jsx(j,{variant:"body2",className:"text-text-primary mb-1",children:"Name"}),s.jsx(j,{variant:"body1",className:"text-text-primary font-medium mb-1",children:B.name})]}),s.jsxs(l,{children:[s.jsx(j,{variant:"body2",className:"text-text-primary mb-1",children:"Status"}),s.jsx(b,{label:B.status.charAt(0).toUpperCase()+B.status.slice(1),size:"small",sx:{bgcolor:"new"===B.status?"rgba(249, 115, 22, 0.1)":"rgba(34, 197, 94, 0.1)",color:"new"===B.status?"#F97316":"#22C55E",border:"none"}})]}),s.jsxs(l,{children:[s.jsx(j,{variant:"body2",className:"text-text-primary mb-1",children:"Email"}),s.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(P,{size:16}),s.jsx(j,{variant:"body1",className:"text-text-primary font-medium mb-1",children:B.email})]})]}),s.jsxs(l,{children:[s.jsx(j,{variant:"body2",className:"text-text-primary mb-1",children:"Phone"}),s.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(z,{size:16}),s.jsx(j,{variant:"body1",className:"text-text-primary font-medium mb-1",children:B.phone})]})]}),s.jsxs(l,{sx:{gridColumn:"1 / -1"},children:[s.jsx(j,{variant:"body2",className:"text-text-primary mb-1",children:"Subject"}),s.jsx(j,{variant:"body1",className:"text-text-primary font-medium mb-1",children:B.subject})]}),s.jsxs(l,{sx:{gridColumn:"1 / -1"},children:[s.jsx(j,{variant:"body2",className:"text-text-primary mb-1",children:"Message"}),s.jsx(l,{sx:{p:2,borderRadius:1,border:"1px solid #374151"},children:s.jsx(j,{variant:"body1",className:"text-text-primary font-medium mb-1",children:B.message})})]}),s.jsxs(l,{children:[s.jsx(j,{variant:"body2",className:"text-text-primary mb-1",children:"Date"}),s.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(I,{size:16}),s.jsx(j,{variant:"body1",className:"text-text-primary font-medium mb-1",children:new Date(B.date).toLocaleDateString()})]})]})]})})}),s.jsxs(N,{sx:{p:3,gap:1},children:[s.jsx(p,{variant:"outlined",onClick:()=>T(null),sx:{color:"#9CA3AF",borderColor:"#374151","&:hover":{bgcolor:"rgba(55, 65, 81, 0.3)",borderColor:"#6B7280"}},children:"Close"}),s.jsx(p,{variant:"outlined",startIcon:s.jsx(P,{size:16}),className:"",onClick:()=>{B&&w.post(route("admin.contents.contact-list.mark-as-replied"),{id:B.id},{preserveScroll:!0,onSuccess:()=>T(null)})},children:"Mark as Replied"})]})]})]})}export{D as default};

import{r as e,j as s,I as r,B as a}from"./mui-BKRBi9c6.js";import{C as t}from"./card-DBmDQUNT.js";import{A as o}from"./AuthenticatedLayout-B0v8q34p.js";import{H as i,r as n}from"./vendor-CXfu1X1j.js";import{C as l}from"./CustomTextField-BTuAnPE3.js";import{n as d}from"./index-DnSngz2F.js";import{U as c}from"./upload--99Nij4X.js";import{U as m}from"./user-D2E5EHqK.js";import{M as p}from"./mail-HzjPNmz5.js";import{P as u}from"./phone-B1tXquFH.js";import{E as x}from"./eye-off-fvTDCOP4.js";import{E as h}from"./eye-C6XdZ-Tw.js";import{L as j}from"./lock-KHtNWJmN.js";import{S as f}from"./save-b8lrRLdX.js";import"./utils-Dp6QJa9S.js";import"./Navbar-Cp-VK2OZ.js";import"./app-BLkjJg0m.js";import"./Sidebar-HDh619-e.js";import"./user-check-BkBYIEHF.js";import"./createLucideIcon-DTafSqzE.js";import"./package-BZ0coysK.js";import"./chevron-right-CHPI7KdZ.js";import"./chevron-left-CvYp6kNR.js";function g({user:g}){const[v,N]=e.useState(!1),[w,y]=e.useState(!1),[b,P]=e.useState(!1),[C,S]=e.useState(g?.profile_image||"/placeholder.svg?height=120&width=120"),[A,k]=e.useState(g?.name||""),[I,E]=e.useState(g?.email||""),[_,F]=e.useState(g?.phone||""),[U,L]=e.useState(""),[D,M]=e.useState(""),[R,B]=e.useState(""),[H,O]=e.useState(!1);return s.jsxs(o,{children:[s.jsx(i,{title:"Profile"}),s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"space-y-6 custom-container mx-auto md:px-[40px] md:py-[18px]",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl leading-9 font-bold text-text-primary mb-6",children:"Profile"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your profile"})]})}),s.jsxs(t,{className:"p-6",children:[s.jsx("div",{className:"flex items-center gap-6",children:s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-emerald-500/20 shadow-lg shadow-emerald-500/10",children:s.jsx("img",{src:`/storage/${C}`,alt:"Profile",width:128,height:128,className:"w-full h-full object-cover"})}),s.jsx("label",{htmlFor:"profile-upload",className:"absolute inset-0 flex items-center justify-center bg-black/60 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:s.jsx(c,{className:"w-8 h-8 text-white"})}),s.jsx("input",{id:"profile-upload",type:"file",accept:"image/*",className:"hidden",onChange:e=>{const s=e.target.files?.[0];if(s){const e=new FileReader;e.onloadend=()=>{S(e.result)},e.readAsDataURL(s);const r=new FormData;r.append("profile_image",s),n.post(route("admin.settings.profile.image"),r,{onSuccess:()=>{d.success("Profile image updated successfully")},onError:e=>{d.error(e.profile_image)}})}}})]})}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-6",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-2",children:s.jsx(l,{label:"Full Name",name:"name",value:A,onChange:e=>k(e.target.value),InputProps:{startAdornment:s.jsx(r,{position:"start",children:s.jsx(m,{className:"w-4 h-4 mr-2"})})}})}),s.jsx("div",{className:"space-y-2",children:s.jsx(l,{label:"Email",name:"email",value:I,onChange:e=>E(e.target.value),InputProps:{startAdornment:s.jsx(r,{position:"start",children:s.jsx(p,{className:"w-4 h-4 mr-2"})})}})}),s.jsx("div",{className:"space-y-2",children:s.jsx(l,{label:"Phone",name:"phone",value:_,onChange:e=>F(e.target.value),InputProps:{startAdornment:s.jsx(r,{position:"start",children:s.jsx(u,{className:"w-4 h-4 mr-2"})})}})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-6",children:"Change Password (Optional)"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-2",children:s.jsx(l,{label:"Current Password",name:"currentPassword",type:v?"text":"password",value:U,onChange:e=>L(e.target.value),InputProps:{startAdornment:s.jsx(r,{position:"start",children:s.jsx(j,{className:"w-4 h-4 mr-2"})}),endAdornment:s.jsx(r,{position:"end",children:s.jsx("button",{type:"button",onClick:()=>N(!v),className:"text-muted-foreground hover:text-foreground transition-colors cursor-pointer",children:v?s.jsx(x,{className:"w-4 h-4"}):s.jsx(h,{className:"w-4 h-4"})})})}})}),s.jsx("div",{className:"space-y-2",children:s.jsx(l,{label:"New Password",name:"newPassword",type:w?"text":"password",value:D,onChange:e=>M(e.target.value),InputProps:{startAdornment:s.jsx(r,{position:"start",children:s.jsx(j,{className:"w-4 h-4 mr-2"})}),endAdornment:s.jsx(r,{position:"end",children:s.jsx("button",{type:"button",onClick:()=>y(!w),className:"text-muted-foreground hover:text-foreground transition-colors cursor-pointer",children:w?s.jsx(x,{className:"w-4 h-4"}):s.jsx(h,{className:"w-4 h-4"})})})}})}),s.jsx("div",{className:"space-y-2",children:s.jsx(l,{label:"Confirm Password",name:"confirmPassword",type:b?"text":"password",value:R,onChange:e=>B(e.target.value),InputProps:{startAdornment:s.jsx(r,{position:"start",children:s.jsx(j,{className:"w-4 h-4 mr-2"})}),endAdornment:s.jsx(r,{position:"end",children:s.jsx("button",{type:"button",onClick:()=>P(!b),className:"text-muted-foreground hover:text-foreground transition-colors cursor-pointer",children:b?s.jsx(x,{className:"w-4 h-4"}):s.jsx(h,{className:"w-4 h-4"})})})}})})]}),s.jsx("p",{className:"text-xs text-text-primary",children:"Password must be at least 8 characters long and contain uppercase, lowercase, numbers, and special characters."})]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsxs(a,{variant:"outlined",onClick:()=>{O(!0),n.put(route("admin.settings.profile.update"),{name:A,email:I,phone:_,current_password:U||void 0,password:D||void 0,password_confirmation:R||void 0},{onSuccess:()=>{d.success("Profile updated successfully"),L(""),M(""),B(""),O(!1)},onError:e=>{e.phone?d.error(e.phone):e.name?d.error(e.name):e.email?d.error(e.email):e.password?d.error(e.password):e.current_password?d.error(e.current_password):d.error("Failed to update profile"),O(!1)}})},disabled:H,children:[s.jsx(f,{className:"w-4 h-4 mr-2"}),H?"Updating...":"Update Profile"]})})]})]})]})})]})}export{g as default};

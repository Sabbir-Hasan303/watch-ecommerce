import{j as e,r as a,B as r,W as s,i as t,P as l,k as i,l as d,m as c,n as o,o as n}from"./mui-BKRBi9c6.js";import{H as m,u,L as p}from"./vendor-CXfu1X1j.js";import{c as x}from"./utils-Dp6QJa9S.js";import{u as h}from"./app-BLkjJg0m.js";import{A as g}from"./AuthenticatedLayout-B0v8q34p.js";import{C as v}from"./CustomTextField-BTuAnPE3.js";import{C as j}from"./CustomSelectField-B-S7bTVB.js";import{C as b,R as f}from"./RichTextEditor-BZ_ObkdN.js";import{T as N}from"./Taka-HCVrmtu1.js";import{A as y}from"./arrow-left-CuUwxuCr.js";import{P as C}from"./plus-avlLwFjE.js";import{X as k}from"./x-BWEyoRfZ.js";import{I as w}from"./user-check-BkBYIEHF.js";import{S as _}from"./save-b8lrRLdX.js";import{U as P}from"./upload--99Nij4X.js";import{S}from"./square-pen-CTrpYGSO.js";import{T as A}from"./trash-2-DJX3qbod.js";import"./Navbar-Cp-VK2OZ.js";import"./Sidebar-HDh619-e.js";import"./package-BZ0coysK.js";import"./createLucideIcon-DTafSqzE.js";import"./chevron-right-CHPI7KdZ.js";import"./chevron-left-CvYp6kNR.js";import"./user-D2E5EHqK.js";import"./index-DnSngz2F.js";const F=[{label:"Active",value:"active"},{label:"Draft",value:"draft"}],$=[{label:"Primary Features",value:"primary"},{label:"Additional Features",value:"additional"}],B={name:"",type:"",icon:""},D={key:"",value:""},z={name:"",category:""},E={title:"",sku:"",size:"",color:"",material:"",image:null,price:"",compare_at_price:"",quantity:"",status:"active"};let T=0;const R=()=>++T,L=e=>{const[r,s]=a.useState(e),t=a.useCallback((e,a)=>{s(r=>({...r,[e]:a}))},[]),l=a.useCallback(()=>{s(e)},[e]);return[r,s,t,l]},I=({status:a,onStatusChange:r})=>e.jsx("div",{className:"space-y-3",children:F.map(s=>e.jsx("button",{type:"button",onClick:()=>r(s.value),className:x("w-full p-4 rounded-lg border-2 transition-all duration-200 text-left",a===s.value?`border-${"active"===s.value?"emerald":"amber"}-500 bg-${"active"===s.value?"emerald":"amber"}-500/10`:"border-border hover:border-emerald-500/50"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:x("w-4 h-4 rounded-full border-2 flex items-center justify-center",a===s.value?`border-${"active"===s.value?"emerald":"amber"}-500`:"border-muted-foreground"),children:a===s.value&&e.jsx("div",{className:`w-2 h-2 rounded-full bg-${"active"===s.value?"emerald":"amber"}-500`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-primary capitalize",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"active"===s.value?"Product is live and visible":"Product is hidden"})]})]})},s.value))}),U=({dragActive:a,onDrag:s,onDrop:t,onFileSelect:l})=>e.jsx("div",{className:x("border-2 border-dashed rounded-xl p-8 transition-all duration-200",a?"border-emerald-500 bg-emerald-500/5":"border-border hover:border-emerald-500/50 hover:bg-muted/50"),onDragEnter:s,onDragLeave:s,onDragOver:s,onDrop:t,children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center",children:e.jsx(P,{className:"w-8 h-8 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:"Drag and drop images here, or click to browse"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, GIF up to 10MB"})]}),e.jsxs(r,{type:"button",variant:"outline",onClick:()=>l(),className:"gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Choose Files"]}),e.jsx("input",{id:"file-upload",type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:e=>l(e.target.files)})]})}),q=({feature:a,onRemove:s})=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/20 rounded-lg border border-border",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:a.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.type}),a.icon&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Icon: ",a.icon]})]}),e.jsx(r,{size:"small",variant:"destructive",onClick:()=>s(a.id),className:"h-8 w-8 p-0",children:e.jsx(k,{className:"w-3 h-3"})})]}),K=({spec:a,onRemove:s})=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/20 rounded-lg border border-border",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"font-medium text-foreground min-w-[120px]",children:[a.key,":"]}),e.jsx("span",{className:"text-foreground",children:a.value})]}),e.jsx(r,{size:"small",variant:"destructive",onClick:()=>s(a.id),className:"h-8 w-8 p-0",children:e.jsx(k,{className:"w-3 h-3"})})]}),V=({feature:a,onRemove:s})=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/20 rounded-lg border border-border",children:[e.jsx("span",{className:"text-foreground",children:a.name}),e.jsx(r,{size:"small",variant:"destructive",onClick:()=>s(a.id),className:"h-8 w-8 p-0",children:e.jsx(k,{className:"w-3 h-3"})})]}),M=({variants:a,onEdit:m,onRemove:u})=>e.jsx(t,{component:l,className:"bg-card border border-border",children:e.jsxs(i,{children:[e.jsx(d,{children:e.jsxs(c,{children:[e.jsx(o,{children:"Image"}),e.jsx(o,{children:"Title"}),e.jsx(o,{children:"SKU"}),e.jsx(o,{children:"Size"}),e.jsx(o,{children:"Color"}),e.jsx(o,{children:"Material"}),e.jsx(o,{children:"Price"}),e.jsx(o,{children:"Compare Price"}),e.jsx(o,{children:"Quantity"}),e.jsx(o,{children:"Status"}),e.jsx(o,{children:"Actions"})]})}),e.jsx(n,{children:a.map(a=>e.jsxs(c,{children:[e.jsx(o,{children:a.image?e.jsx("img",{src:URL.createObjectURL(a.image),alt:a.title,className:"w-12 h-12 object-cover rounded border"}):e.jsx("div",{className:"w-12 h-12 bg-muted rounded border flex items-center justify-center",children:e.jsx(w,{className:"w-4 h-4 text-muted-foreground"})})}),e.jsx(o,{children:a.title}),e.jsx(o,{children:a.sku}),e.jsx(o,{children:a.size||"-"}),e.jsx(o,{children:a.color||"-"}),e.jsx(o,{children:a.material||"-"}),e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(N,{color:"text-black dark:text-white",className:"text-base"}),e.jsx("span",{className:"text-base",children:a.price})]})}),e.jsx(o,{children:a.compare_at_price?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(N,{color:"text-black dark:text-white",className:"text-base"}),e.jsx("span",{className:"text-base",children:a.compare_at_price})]}):e.jsx("span",{className:"text-base",children:"-"})}),e.jsx(o,{children:a.quantity}),e.jsx(o,{children:e.jsx(s,{className:x("text-xs py-1 px-2 rounded-md","active"===a.status?"bg-emerald-500":"bg-amber-500"),children:a.status})}),e.jsx(o,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(r,{size:"small",variant:"outline",onClick:()=>m(a),className:"h-8 w-8 p-0",children:e.jsx(S,{className:"w-3 h-3"})}),e.jsx(r,{size:"small",variant:"destructive",onClick:()=>u(a.id),className:"h-8 w-8 p-0",children:e.jsx(A,{className:"w-3 h-3"})})]})})]},a.id))})]})});function O({categories:t}){const{isDark:l}=h(),{data:i,setData:d,post:c,processing:o,errors:n,reset:m}=u({name:"",description:"",short_description:"",categories:[],sku:"",status:"draft",features:[],technical_specs:[],model_features:[],variants:[],images:[]}),[g,P]=L(B),[S,A]=L(D),[T,O]=L(z),[G,Q]=a.useState(!1),[J,W]=L(E),[H,X]=a.useState(!1),Y=a.useCallback(e=>{if(!e)return;const a=Array.from(e);d("images",[...i.images,...a])},[i.images,d]),Z=a.useCallback(e=>{const a=i.images.filter((a,r)=>r!==e);d("images",a)},[i.images,d]),ee=a.useCallback(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?X(!0):"dragleave"===e.type&&X(!1)},[]),ae=a.useCallback(e=>{e.preventDefault(),e.stopPropagation(),X(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&Y(e.dataTransfer.files)},[Y]),re=a.useCallback(()=>{if(!g.name||!g.type)return void alert("Please fill in feature name and type");const e={id:R(),name:g.name,type:g.type,icon:g.icon};d("features",[...i.features,e]),P(B)},[g,i.features,d,P]),se=a.useCallback(e=>{d("features",i.features.filter(a=>a.id!==e))},[i.features,d]),te=a.useCallback(()=>{if(!S.key||!S.value)return void alert("Please fill in both key and value");const e={id:R(),key:S.key,value:S.value};d("technical_specs",[...i.technical_specs,e]),A(D)},[S,i.technical_specs,d,A]),le=a.useCallback(e=>{d("technical_specs",i.technical_specs.filter(a=>a.id!==e))},[i.technical_specs,d]),ie=a.useCallback(()=>{if(!T.name)return void alert("Please fill in feature name");const e={id:R(),name:T.name,category:T.category};d("model_features",[...i.model_features,e]),O(e=>({...e,name:""}))},[T,i.model_features,d,O]),de=a.useCallback(e=>{d("model_features",i.model_features.filter(a=>a.id!==e))},[i.model_features,d]),ce=a.useCallback(e=>{e&&W(a=>({...a,image:e}))},[W]),oe=a.useCallback(()=>{if(!(J.title&&J.sku&&J.price&&J.quantity))return void alert("Please fill in required fields: Title, SKU, Price, and Quantity");const e={id:R(),...J};d("variants",[...i.variants,e]),W(E),Q(!1)},[J,i.variants,d,W]),ne=a.useCallback(e=>{d("variants",i.variants.filter(a=>a.id!==e))},[i.variants,d]),me=a.useCallback(e=>{W(e),Q(!0),ne(e.id)},[W,ne]),ue=a.useCallback(e=>{e?Y(e):document.getElementById("file-upload")?.click()},[Y]),pe=a.useCallback(()=>{document.getElementById("variant-image-upload")?.click()},[]),xe=a.useCallback(()=>{Q(!1),W(E)},[W]),he=a.useCallback(()=>{W(e=>({...e,image:null}))},[W]),ge=i.model_features.filter(e=>"primary"===e.category),ve=i.model_features.filter(e=>"additional"===e.category);return e.jsxs("div",{className:"py-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl leading-9 font-bold text-text-primary mb-6",children:"Create Product"}),e.jsx("div",{children:e.jsx(p,{href:"/admin/products",children:e.jsxs(r,{variant:"ghost",size:"sm",className:"gap-2 text-gray-400 hover:text-white",children:[e.jsx(y,{className:"w-4 h-4"}),"Back to Products"]})})})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsx("div",{className:"max-w-6xl mx-auto space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Basic Product Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(v,{id:"name",label:"Product Name",placeholder:"Enter product name",value:i.name,onChange:e=>d("name",e.target.value),error:!!n.name,helperText:n.name}),e.jsx(v,{id:"sku",label:"SKU",placeholder:"Enter SKU",value:i.sku,onChange:e=>d("sku",e.target.value),error:!!n.sku,helperText:n.sku}),e.jsx(b,{id:"categories",label:"Categories",placeholder:"Select categories",options:t.map(e=>({label:e.name,value:e.id})),value:i.categories,onChange:e=>d("categories",e),error:!!n.categories,helperText:n.categories}),e.jsx(v,{id:"short_description",label:"Short Description",placeholder:"Enter short description",value:i.short_description,onChange:e=>d("short_description",e.target.value),error:!!n.short_description,helperText:n.short_description})]}),e.jsx(f,{id:"description",label:"Description",placeholder:"Enter product description",value:i.description,onChange:e=>d("description",e.target.value),error:!!n.description,helperText:n.description})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Product Features"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(v,{id:"feature-name",label:"Feature Name *",placeholder:"e.g., Digital Display",value:g.name,onChange:e=>P(a=>({...a,name:e.target.value}))}),e.jsx(v,{id:"feature-type",label:"Type *",placeholder:"e.g., Display Type",value:g.type,onChange:e=>P(a=>({...a,type:e.target.value}))}),e.jsx(v,{id:"feature-icon",label:"Icon *",placeholder:"e.g., Clock, Battery, Water",value:g.icon,onChange:e=>P(a=>({...a,icon:e.target.value}))})]}),e.jsxs(r,{variant:"outlined",onClick:re,sx:{color:l?"#9CA3AF":"#6B7280",borderColor:l?"#374151":"#6B7280","&:hover":{bgcolor:"rgba(55, 65, 81, 0.3)",borderColor:"#6B7280"}},children:[e.jsx(C,{className:"w-4 h-4"}),"Add Feature"]}),i.features.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-md font-medium text-foreground",children:"Added Features"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:i.features.map(a=>e.jsx(q,{feature:a,onRemove:se},a.id))})]})]})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Technical Specifications"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(v,{id:"spec-key",label:"Specification Key *",value:S.key,onChange:e=>A(a=>({...a,key:e.target.value}))}),e.jsx(v,{id:"spec-value",label:"Specification Value *",value:S.value,onChange:e=>A(a=>({...a,value:e.target.value}))})]}),e.jsxs(r,{variant:"outlined",onClick:te,sx:{color:l?"#9CA3AF":"#6B7280",borderColor:l?"#374151":"#6B7280","&:hover":{bgcolor:"rgba(55, 65, 81, 0.3)",borderColor:"#6B7280"}},children:[e.jsx(C,{className:"w-4 h-4"}),"Add Specification"]}),i.technical_specs.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-md font-medium text-foreground",children:"Added Specifications"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:i.technical_specs.map(a=>e.jsx(K,{spec:a,onRemove:le},a.id))})]})]})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Model Features"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(v,{id:"model-feature-name",label:"Feature Name *",placeholder:"e.g., 19-inch wheels, LED headlights",value:T.name,onChange:e=>O(a=>({...a,name:e.target.value}))}),e.jsx(j,{id:"model-feature-category",label:"Feature Category *",placeholder:"Select category",options:$,value:T.category,onChange:e=>O(a=>({...a,category:e.target.value}))})]}),e.jsxs(r,{variant:"outlined",onClick:ie,sx:{color:l?"#9CA3AF":"#6B7280",borderColor:l?"#374151":"#6B7280","&:hover":{bgcolor:"rgba(55, 65, 81, 0.3)",borderColor:"#6B7280"}},children:[e.jsx(C,{className:"w-4 h-4"}),"Add Model Feature"]}),i.model_features.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-md font-medium text-foreground",children:"Added Model Features"}),ge.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Primary Features"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:ge.map(a=>e.jsx(V,{feature:a,onRemove:de},a.id))})]}),ve.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Additional Features"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:ve.map(a=>e.jsx(V,{feature:a,onRemove:de},a.id))})]})]})]})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Product Images"}),n.images&&e.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:n.images}),e.jsx(U,{dragActive:H,onDrag:ee,onDrop:ae,onFileSelect:ue}),i.images.length>0&&e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:i.images.map((a,t)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:URL.createObjectURL(a),alt:`Product ${t+1}`,className:"w-full h-32 object-cover rounded-lg border border-border"}),0===t&&e.jsx(s,{className:"absolute top-2 left-2 bg-emerald-500 text-white",children:"Primary"}),e.jsx(r,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>Z(t),children:e.jsx(k,{className:"w-4 h-4"})})]},t))})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Product Variants"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Create different variations of your product"})]}),e.jsxs(r,{variant:"outlined",onClick:()=>Q(!G),sx:{color:l?"#9CA3AF":"#6B7280",borderColor:l?"#374151":"#6B7280","&:hover":{bgcolor:"rgba(55, 65, 81, 0.3)",borderColor:"#6B7280"}},children:[e.jsx(C,{className:"w-4 h-4"}),"Add Variant"]})]}),G&&e.jsxs("div",{className:"border border-border rounded-lg p-4 space-y-4 bg-muted/20",children:[e.jsx("h3",{className:"text-md font-medium text-foreground",children:"Create New Variant"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(v,{id:"variant-title",label:"Title *",placeholder:"e.g., Large Black Leather",value:J.title,onChange:e=>W(a=>({...a,title:e.target.value}))}),e.jsx(v,{id:"variant-sku",label:"SKU *",placeholder:"e.g., SKU-001",value:J.sku,onChange:e=>W(a=>({...a,sku:e.target.value}))}),e.jsx(v,{id:"variant-size",label:"Size",placeholder:"e.g., Large, XL",value:J.size,onChange:e=>W(a=>({...a,size:e.target.value}))}),e.jsx(v,{id:"variant-color",label:"Color",placeholder:"e.g., Black, Red",value:J.color,onChange:e=>W(a=>({...a,color:e.target.value}))}),e.jsx(v,{id:"variant-material",label:"Material",placeholder:"e.g., Leather, Steel",value:J.material,onChange:e=>W(a=>({...a,material:e.target.value}))}),e.jsx(v,{id:"variant-price",label:"Price *",type:"number",placeholder:"0.00",value:J.price,onChange:e=>W(a=>({...a,price:e.target.value})),InputProps:{startAdornment:e.jsx(N,{color:"text-gray-400 dark:text-gray-400",className:"text-base mr-2"})}}),e.jsx(v,{id:"variant-compare-price",label:"Compare at Price",type:"number",placeholder:"0.00",value:J.compare_at_price,onChange:e=>W(a=>({...a,compare_at_price:e.target.value})),InputProps:{startAdornment:e.jsx(N,{color:"text-gray-400 dark:text-gray-400",className:"text-base mr-2"})}}),e.jsx(v,{id:"variant-quantity",label:"Quantity *",type:"number",placeholder:"0",value:J.quantity,onChange:e=>W(a=>({...a,quantity:e.target.value}))}),e.jsx(j,{id:"variant-status",label:"Status *",placeholder:"Select status",options:F,value:J.status,onChange:e=>W(a=>({...a,status:e.target.value}))}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:e=>ce(e.target.files[0]),className:"hidden",id:"variant-image-upload"}),e.jsxs(r,{type:"button",variant:"outline",onClick:pe,className:"gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Upload Image"]})]}),J.image&&e.jsxs("div",{className:"relative w-20 h-20",children:[e.jsx("img",{src:URL.createObjectURL(J.image),alt:"Variant preview",className:"w-full h-full object-cover rounded border"}),e.jsx(r,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6",onClick:he,children:e.jsx(k,{className:"w-3 h-3"})})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{variant:"outlined",onClick:oe,children:"Add"}),e.jsx(r,{variant:"outlined",onClick:xe,sx:{color:"#9CA3AF",borderColor:"#374151","&:hover":{bgcolor:"rgba(55, 65, 81, 0.3)",borderColor:"#6B7280"}},children:"Cancel"})]})]}),i.variants.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-md font-medium text-foreground",children:"Created Variants"}),e.jsx(M,{variants:i.variants,onEdit:me,onRemove:ne})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Product Status"}),e.jsx(I,{status:i.status,onStatusChange:e=>d("status",e)})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 space-y-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Actions"}),e.jsx(r,{className:x("w-full gap-2",0===i.variants.length?"!bg-gray-500 cursor-not-allowed":"!bg-black dark:!bg-white !text-white dark:!text-black"),variant:"primary",size:"md",disabled:0===i.variants.length||o,onClick:()=>{const e=new FormData;e.append("name",i.name),e.append("description",i.description),e.append("short_description",i.short_description),e.append("sku",i.sku),e.append("status",i.status),i.categories.forEach(a=>{e.append("categories[]",a)}),i.features.forEach((a,r)=>{e.append(`features[${r}][name]`,a.name),e.append(`features[${r}][type]`,a.type),e.append(`features[${r}][icon]`,a.icon)}),i.technical_specs.forEach((a,r)=>{e.append(`technical_specs[${r}][key]`,a.key),e.append(`technical_specs[${r}][value]`,a.value)}),i.model_features.forEach((a,r)=>{e.append(`model_features[${r}][name]`,a.name),e.append(`model_features[${r}][category]`,a.category||"")}),i.images.forEach(a=>{e.append("images[]",a)}),i.variants.forEach((a,r)=>{e.append(`variants[${r}][title]`,a.title),e.append(`variants[${r}][sku]`,a.sku),e.append(`variants[${r}][size]`,a.size||""),e.append(`variants[${r}][color]`,a.color||""),e.append(`variants[${r}][material]`,a.material||""),e.append(`variants[${r}][price]`,a.price),e.append(`variants[${r}][compare_at_price]`,a.compare_at_price||""),e.append(`variants[${r}][quantity]`,a.quantity),e.append(`variants[${r}][status]`,a.status),a.image&&e.append(`variants[${r}][image]`,a.image)}),c(route("admin.products.store"),{data:e,forceFormData:!0})},startIcon:e.jsx(_,{className:"w-4 h-4"}),children:0===i.variants.length?"Create at least one variant first":o?"Creating Product...":`Create Product with ${i.variants.length} Variant${1!==i.variants.length?"s":""}`}),0===i.variants.length&&e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"You must create at least one variant before creating the product"})]})]})]})})})]})}function G({categories:a}){return e.jsxs(g,{children:[e.jsx(m,{title:"Create Product"}),e.jsx(O,{categories:a})]})}export{G as default};

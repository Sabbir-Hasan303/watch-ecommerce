import{r as e,j as s,F as r,I as a,P as l,i as t,k as i,l as d,m as o,n,o as c,p as x,y as m,s as h,M as b,z as p,D as j,u as g,v as u,e as f,w as N,B as v}from"./mui-BKRBi9c6.js";import{A as y}from"./AuthenticatedLayout-B0v8q34p.js";import{C as w}from"./CustomTextField-BTuAnPE3.js";import{H as C,r as k}from"./vendor-CXfu1X1j.js";import{C as A}from"./card-DBmDQUNT.js";import{T as S}from"./Taka-HCVrmtu1.js";import{U as P}from"./user-check-BkBYIEHF.js";import{T as W}from"./trending-up-MVTSIGd1.js";import{S as F}from"./search-BbbvWq6b.js";import{E as T}from"./ellipsis-vertical-DGSHNWiZ.js";import{E as R}from"./eye-C6XdZ-Tw.js";import"./Navbar-Cp-VK2OZ.js";import"./app-BLkjJg0m.js";import"./Sidebar-HDh619-e.js";import"./utils-Dp6QJa9S.js";import"./package-BZ0coysK.js";import"./createLucideIcon-DTafSqzE.js";import"./chevron-right-CHPI7KdZ.js";import"./chevron-left-CvYp6kNR.js";import"./user-D2E5EHqK.js";import"./index-DnSngz2F.js";function D({customers:D=[]}){const[O,z]=e.useState(""),[L,B]=e.useState(null),[E,I]=e.useState(0),[M,$]=e.useState(10),[V,H]=e.useState(null),[J,U]=e.useState(null),q=D.filter(e=>e.name.toLowerCase().includes(O.toLowerCase())||e.email.toLowerCase().includes(O.toLowerCase())||e.phone&&e.phone.includes(O)),G=E*M,K=q.slice(G,G+M),Q=D.length,X=D.reduce((e,s)=>e+(Number(s.totalSpent)||0),0),Y=()=>{H(null),U(null)},Z=(e,s)=>{switch(Y(),e){case"view":const e=D.find(e=>e.id===s);B(e);break;case"orders":k.visit(route("admin.customers.orders",{id:s}))}};return s.jsxs(y,{children:[s.jsx(C,{title:"Customer Management"}),s.jsxs("div",{className:"py-4",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl leading-9 font-bold text-text-primary mb-6",children:"Customer Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage customers, reviews, and ratings"})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(A,{className:"p-6 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border-blue-500/20 hover:shadow-lg hover:shadow-blue-500/10 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-primary",children:"Total Customers"}),s.jsx("p",{className:"text-3xl font-bold mt-1 text-text-primary",children:Q})]}),s.jsx("div",{className:"h-14 w-14 rounded-2xl bg-gradient-to-br from-blue-500/20 to-cyan-500/20 flex items-center justify-center backdrop-blur-sm",children:s.jsx(P,{className:"h-7 w-7 text-blue-400"})})]})}),s.jsx(A,{className:"p-6 bg-gradient-to-br from-purple-500/10 to-pink-500/10 border-purple-500/20 hover:shadow-lg hover:shadow-purple-500/10 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-primary",children:"Total Revenue"}),s.jsxs("p",{className:"text-2xl md:text-xl xl:text-3xl font-bold mt-1 flex items-center gap-1",children:[s.jsx(S,{color:"text-purple-600 dark:text-purple-400",className:"font-bold text-2xl md:text-xl xl:text-2xl"}),X.toFixed(2)||0]})]}),s.jsx("div",{className:"h-14 w-14 rounded-2xl bg-gradient-to-br from-purple-500/20 to-pink-500/20 flex items-center justify-center backdrop-blur-sm",children:s.jsx(W,{className:"h-7 w-7 text-purple-400"})})]})})]}),s.jsxs("div",{className:"bg-card shadow-lg rounded-lg",children:[s.jsx("div",{className:"p-6 flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:s.jsx("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:s.jsx(r,{size:"small",sx:{minWidth:300},children:s.jsx(w,{placeholder:"Search customers...",value:O,onChange:e=>z(e.target.value),className:"pl-10",InputProps:{startAdornment:s.jsx(a,{position:"start",children:s.jsx(F,{className:"w-4 h-4 mr-2"})})}})})})}),s.jsxs(l,{sx:{width:"100%"},children:[s.jsx(t,{sx:{maxHeight:"500px"},className:"table-container",children:s.jsxs(i,{children:[s.jsx(d,{children:s.jsxs(o,{children:[s.jsx(n,{className:"table-header-cell dark:table-header-cell",children:s.jsx("div",{className:"flex items-center gap-2",children:"Customer"})}),s.jsx(n,{className:"table-header-cell dark:table-header-cell",children:s.jsx("div",{className:"flex items-center gap-2",children:"Contact"})}),s.jsx(n,{className:"table-header-cell dark:table-header-cell",children:s.jsx("div",{className:"flex items-center gap-2",children:"Address"})}),s.jsx(n,{className:"table-header-cell dark:table-header-cell",children:s.jsx("div",{className:"flex items-center gap-2",children:"Area"})}),s.jsx(n,{className:"table-header-cell dark:table-header-cell",children:s.jsx("div",{className:"flex items-center gap-2",children:"Orders"})}),s.jsx(n,{className:"table-header-cell dark:table-header-cell",children:s.jsx("div",{className:"flex items-center gap-2",children:"Total Spent"})}),s.jsx(n,{className:"table-header-cell dark:table-header-cell !text-center",children:"Actions"})]})}),s.jsx(c,{children:0===K.length?s.jsx(o,{children:s.jsx(n,{colSpan:6,className:"table-body-cell dark:table-body-cell text-center py-8",children:s.jsx(x,{variant:"body2",className:"text-muted-foreground",children:"No customers found"})})}):K.map(e=>s.jsxs(o,{hover:!0,children:[s.jsx(n,{className:"table-body-cell dark:table-body-cell",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center text-text-primary font-semibold shadow-lg shadow-emerald-500/30",children:e.name.charAt(0)})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx(x,{variant:"body2",className:"font-medium text-foreground truncate",children:e.name}),s.jsxs(x,{variant:"caption",className:"text-muted-foreground",children:["Joined ",new Date(e.joinDate).toLocaleDateString()]})]})]})}),s.jsx(n,{className:"table-body-cell dark:table-body-cell",children:s.jsxs("div",{children:[s.jsx(x,{variant:"body2",className:"font-medium text-foreground",children:e.email}),s.jsx(x,{variant:"caption",className:"text-muted-foreground",children:e.phone||"N/A"})]})}),s.jsx(n,{className:"table-body-cell dark:table-body-cell",children:s.jsx(x,{variant:"body2",className:"text-foreground",children:e.address||"No address provided"})}),s.jsx(n,{className:"table-body-cell dark:table-body-cell",children:s.jsx(x,{variant:"body2",className:"text-foreground",children:e.area||"No area provided"})}),s.jsx(n,{className:"table-body-cell dark:table-body-cell",children:s.jsxs(x,{variant:"body2",className:"text-foreground",children:[e.totalOrders," orders"]})}),s.jsx(n,{className:"table-body-cell dark:table-body-cell",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(S,{className:"text-sm"}),Number(e.totalSpent).toFixed(2)||0]})}),s.jsx(n,{className:"table-body-cell dark:table-body-cell",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx(m,{size:"small",className:"h-8 w-8",onClick:s=>{return r=s,a=e.id,r.stopPropagation(),H(r.currentTarget),void U(a);var r,a},children:s.jsx(T,{className:"w-4 h-4"})})})})]},e.id))})]})}),s.jsx(h,{className:"table-pagination dark:table-pagination",rowsPerPageOptions:[5,10,25,50,100],component:"div",count:q.length,rowsPerPage:M,page:E,onPageChange:(e,s)=>I(s),onRowsPerPageChange:e=>{$(parseInt(e.target.value,10)),I(0)},labelDisplayedRows:({from:e,to:s,count:r})=>`${e}-${s} of ${-1!==r?r:`more than ${s}`}`})]})]}),s.jsxs(b,{anchorEl:V,open:Boolean(V),onClose:Y,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{mt:1,minWidth:180,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:"1px solid rgba(0, 0, 0, 0.1)"}},children:[s.jsxs(p,{onClick:()=>Z("view",J),sx:{fontSize:"0.875rem",py:1.5,px:2},children:[s.jsx(R,{className:"w-4 h-4 mr-2"}),"View Details"]}),s.jsxs(p,{onClick:()=>Z("orders",J),sx:{fontSize:"0.875rem",py:1.5,px:2},children:[s.jsx(P,{className:"w-4 h-4 mr-2"}),"View Orders"]})]})]}),s.jsxs(j,{open:!!L,onClose:()=>B(null),maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{bgcolor:"#1C252E",border:"1px solid #374151",borderRadius:"12px"}},children:[s.jsx(g,{sx:{fontSize:"1.25rem",fontWeight:600,pb:1},className:"text-text-primary",children:"Customer Details"}),L&&s.jsxs(u,{className:"text-text-primary",sx:{pt:2},children:[s.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:3,mb:3,p:2,bgcolor:"rgba(16, 185, 129, 0.05)",borderRadius:2,border:"1px solid rgba(16, 185, 129, 0.1)"},children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center text-text-primary font-semibold text-2xl shadow-lg shadow-emerald-500/30",children:L.name.charAt(0)})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx("h3",{className:"text-xl font-bold text-text-primary",children:L.name})}),s.jsxs("p",{className:"text-muted-foreground text-sm",children:["Member since ",new Date(L.joinDate).toLocaleDateString()]})]})]}),s.jsxs(f,{sx:{mb:3},children:[s.jsx(x,{variant:"subtitle1",sx:{mb:2,color:"#10B981",fontWeight:600},children:"Contact Information"}),s.jsxs(f,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[s.jsxs(f,{sx:{p:2,bgcolor:"rgba(59, 130, 246, 0.05)",borderRadius:1,border:"1px solid rgba(59, 130, 246, 0.1)"},children:[s.jsx(x,{variant:"body2",sx:{color:"#9CA3AF",mb:.5,fontWeight:500},children:"Email"}),s.jsx(x,{variant:"body2",className:"text-text-primary",children:L.email})]}),s.jsxs(f,{sx:{p:2,bgcolor:"rgba(16, 185, 129, 0.05)",borderRadius:1,border:"1px solid rgba(16, 185, 129, 0.1)"},children:[s.jsx(x,{variant:"body2",sx:{color:"#9CA3AF",mb:.5,fontWeight:500},children:"Phone"}),s.jsx(x,{variant:"body2",className:"text-text-primary",children:L.phone||"N/A"})]}),s.jsxs(f,{sx:{p:2,bgcolor:"rgba(168, 85, 247, 0.05)",borderRadius:1,border:"1px solid rgba(168, 85, 247, 0.1)"},children:[s.jsx(x,{variant:"body2",sx:{color:"#9CA3AF",mb:.5,fontWeight:500},children:"Address"}),s.jsx(x,{variant:"body2",className:"text-text-primary",children:L.address||"No address provided"})]}),s.jsxs(f,{sx:{p:2,bgcolor:"rgba(168, 85, 247, 0.05)",borderRadius:1,border:"1px solid rgba(168, 85, 247, 0.1)"},children:[s.jsx(x,{variant:"body2",sx:{color:"#9CA3AF",mb:.5,fontWeight:500},children:"Area"}),s.jsx(x,{variant:"body2",className:"text-text-primary",children:L.area||"No area provided"})]})]})]}),s.jsxs(f,{sx:{mb:2},children:[s.jsx(x,{variant:"subtitle1",sx:{mb:2,color:"#10B981",fontWeight:600},children:"Business Statistics"}),s.jsxs(f,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:2},children:[s.jsxs(f,{sx:{p:2,bgcolor:"rgba(245, 158, 11, 0.05)",borderRadius:1,border:"1px solid rgba(245, 158, 11, 0.1)",textAlign:"center"},children:[s.jsx(x,{variant:"body2",sx:{color:"#9CA3AF",mb:.5,fontWeight:500},children:"Total Orders"}),s.jsx(x,{variant:"h5",sx:{color:"#F59E0B",fontWeight:700},children:L.totalOrders})]}),s.jsxs(f,{sx:{p:2,bgcolor:"rgba(34, 197, 94, 0.05)",borderRadius:1,border:"1px solid rgba(34, 197, 94, 0.1)",textAlign:"center"},children:[s.jsx(x,{variant:"body2",sx:{color:"#9CA3AF",mb:.5,fontWeight:500},children:"Total Spent"}),s.jsxs("div",{className:"flex justify-center items-center gap-1",children:[s.jsx(S,{className:"text-sm"}),Number(L.totalSpent).toFixed(2)||0]})]})]})]})]}),s.jsxs(N,{sx:{p:2,gap:1,borderTop:"1px solid #374151"},children:[s.jsx(v,{variant:"outlined",onClick:()=>B(null),sx:{color:"#9CA3AF",borderColor:"#374151",px:2,py:1,"&:hover":{bgcolor:"rgba(55, 65, 81, 0.3)",borderColor:"#6B7280"}},children:"Close"}),s.jsx(v,{variant:"outlined",onClick:()=>{k.visit(route("admin.customers.orders",{id:L.id})),B(null)},children:"View Orders"})]})]})]})]})}export{D as default};

import{r as e,j as s,F as a,I as t,P as l,i as r,k as c,l as o,m as i,n as d,ak as n,o as m,q as x,s as h,B as u}from"./mui-BKRBi9c6.js";import{c as p}from"./utils-Dp6QJa9S.js";import{C as j}from"./CustomTextField-BTuAnPE3.js";import{C as g}from"./CustomSelectField-B-S7bTVB.js";import{r as b,H as f}from"./vendor-CXfu1X1j.js";import{T as v}from"./Taka-HCVrmtu1.js";import{S as N}from"./search-BbbvWq6b.js";import{F as k}from"./funnel-C2IfpBGu.js";import{A as y}from"./AuthenticatedLayout-B0v8q34p.js";import"./app-BLkjJg0m.js";import"./createLucideIcon-DTafSqzE.js";import"./Navbar-Cp-VK2OZ.js";import"./Sidebar-HDh619-e.js";import"./user-check-BkBYIEHF.js";import"./package-BZ0coysK.js";import"./chevron-right-CHPI7KdZ.js";import"./chevron-left-CvYp6kNR.js";import"./user-D2E5EHqK.js";import"./index-DnSngz2F.js";function w({featuredProducts:f=[],categories:y=[],statusOptions:w=[]}){const[S,C]=e.useState(""),[P,z]=e.useState("all"),[A,F]=e.useState(new Set),[B,L]=e.useState(0),[$,I]=e.useState(10),[O,T]=e.useState("trending"),W=f||[],H=["all",...y],M=(e=>{const s={trending:"Trending Product",none:"None"};return e.map(e=>({value:e,label:s[e]||e}))})(w.filter(e=>"trending"===e||"none"===e)),U=W.filter(e=>{const s=e.name?.toLowerCase().includes(S.toLowerCase())||e.sku?.toLowerCase().includes(S.toLowerCase()),a="all"===P||e.category===P;return s&&a}),R=B*$,_=U.slice(R,R+$);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:s.jsx("h2",{className:"text-2xl leading-9 font-bold text-text-primary mb-6",children:"Trending Products"})}),s.jsxs("div",{className:"bg-card shadow-lg rounded-lg",children:[s.jsx("div",{className:"p-6 flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[s.jsx(a,{size:"small",sx:{minWidth:300},children:s.jsx(j,{placeholder:"Search products...",value:S,onChange:e=>C(e.target.value),InputProps:{startAdornment:s.jsx(t,{position:"start",children:s.jsx(N,{className:"w-4 h-4 mr-2"})})}})}),s.jsx(a,{size:"small",sx:{minWidth:200},children:s.jsx(g,{placeholder:"Select category...",value:P,onChange:e=>z(e.target.value),label:"Category",InputProps:{startAdornment:s.jsx(t,{position:"start",children:s.jsx(k,{className:"w-4 h-4 mr-2"})})},options:H.map(e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1).replace("-"," ")}))})})]})}),s.jsxs(l,{sx:{width:"100%"},children:[s.jsx(r,{sx:{maxHeight:"500px"},className:"table-container",children:s.jsxs(c,{stickyHeader:!0,children:[s.jsx(o,{children:s.jsxs(i,{children:[s.jsx(d,{className:"table-header-cell dark:table-header-cell",children:s.jsx(n,{checked:A.size===U.length&&U.length>0,indeterminate:A.size>0&&A.size<U.length,onChange:()=>{A.size===U.length?F(new Set):F(new Set(U.map(e=>e.id)))},sx:{color:"#10B981","&.Mui-checked":{color:"#10B981"},"&.MuiCheckbox-indeterminate":{color:"#10B981"}}})}),s.jsx(d,{className:"table-header-cell dark:table-header-cell",children:s.jsx("div",{className:"flex items-center gap-2",children:"Product"})}),s.jsx(d,{className:"table-header-cell dark:table-header-cell",children:s.jsx("div",{className:"flex items-center gap-2",children:"Category"})}),s.jsx(d,{className:"table-header-cell dark:table-header-cell",children:s.jsx("div",{className:"flex items-center gap-2",children:"Price"})}),s.jsx(d,{className:"table-header-cell dark:table-header-cell",children:s.jsx("div",{className:"flex items-center gap-2",children:"Stock"})}),s.jsx(d,{className:"table-header-cell dark:table-header-cell",children:"Status"})]})}),s.jsx(m,{children:0===_.length?s.jsx(i,{children:s.jsx(d,{colSpan:6,className:"table-body-cell dark:table-body-cell text-center py-8",children:s.jsx("p",{className:"text-gray-400 text-sm",children:"No products found"})})}):_.map(e=>{var a;return a=e.status,M.find(e=>e.value===a)||M[0],s.jsxs(i,{hover:!0,children:[s.jsx(d,{className:"table-body-cell dark:table-body-cell",children:s.jsx(n,{checked:A.has(e.id),onChange:()=>(e=>{const s=new Set(A);s.has(e)?s.delete(e):s.add(e),F(s)})(e.id),sx:{color:"#10B981","&.Mui-checked":{color:"#10B981"}}})}),s.jsx(d,{className:"table-body-cell dark:table-body-cell",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:e.image?`/storage/${e.image}`:"/placeholder.svg",alt:e.name,className:"w-12 h-12 rounded-lg object-cover bg-muted flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium text-foreground truncate",children:e.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",e.sku||"N/A"]})]})]})}),s.jsx(d,{className:"table-body-cell dark:table-body-cell",children:s.jsx(x,{label:e.category,variant:"outlined",size:"small"})}),s.jsx(d,{className:"table-body-cell dark:table-body-cell",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(v,{color:"text-black dark:text-white",className:"text-base"}),s.jsx("span",{className:"text-base",children:e.price?parseFloat(e.price).toFixed(2):"0.00"})]})}),s.jsx(d,{className:"table-body-cell dark:table-body-cell",children:s.jsx("p",{className:p("font-medium",0===e.stock?"text-red-400":e.stock<20?"text-amber-400":"text-emerald-400"),children:e.stock>0?`${e.stock} in stock`:"Out of stock"})}),s.jsx(d,{className:"table-body-cell dark:table-body-cell",children:s.jsx(g,{value:e.status,onChange:s=>((e,s)=>{b.put(route("admin.products.featured.update"),{product_id:e,status:s},{preserveScroll:!0,preserveState:!0})})(e.id,s.target.value),options:M,size:"small",sx:{minWidth:150}})})]},e.id)})})]})}),s.jsx(h,{className:"table-pagination dark:table-pagination",rowsPerPageOptions:[5,10,25,50,100],component:"div",count:U.length,rowsPerPage:$,page:B,onPageChange:(e,s)=>L(s),onRowsPerPageChange:e=>{I(parseInt(e.target.value,10)),L(0)},labelDisplayedRows:({from:e,to:s,count:a})=>`${e}-${s} of ${-1!==a?a:`more than ${s}`}`})]})]}),A.size>0&&s.jsxs("div",{className:"flex flex-wrap items-center gap-3 p-4 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-lg border border-emerald-500/20",children:[s.jsxs("span",{className:"text-sm text-text-primary font-medium",children:[A.size," products selected"]}),s.jsx("div",{className:"flex-1"}),s.jsx(a,{size:"small",sx:{minWidth:180},children:s.jsx(g,{value:O,onChange:e=>T(e.target.value),options:M,size:"small",label:"Select Status"})}),s.jsx(u,{onClick:()=>(e=>{if(0===A.size)return;const s=Array.from(A);b.post(route("admin.products.featured.bulk-update"),{product_ids:s,status:e},{preserveScroll:!0,preserveState:!0,onSuccess:()=>{F(new Set)}})})(O),className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-text-primary shadow-lg hover:shadow-emerald-500/50 transition-all duration-300",children:"Update Status"}),s.jsx(u,{variant:"outline",onClick:()=>F(new Set),className:"border-white/20 text-text-primary hover:bg-white/5",children:"Clear Selection"})]})]})}function S({featuredProducts:e=[],categories:a=[],statusOptions:t=[],flash:l}){return s.jsxs(y,{flash:l,children:[s.jsx(f,{title:"Featured Products"}),s.jsx("div",{className:"py-4 custom-container mx-auto md:px-[40px] md:py-[18px]",children:s.jsx(w,{featuredProducts:e,categories:a,statusOptions:t})})]})}export{S as default};

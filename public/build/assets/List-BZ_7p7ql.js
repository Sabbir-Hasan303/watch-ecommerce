import{r as e,j as a,B as s,F as l,I as t,P as r,i as c,k as i,l as o,m as d,n,o as m,p as x,q as h,s as p}from"./mui-BKRBi9c6.js";import{c as j}from"./utils-Dp6QJa9S.js";import{H as u,L as b,r as g}from"./vendor-CXfu1X1j.js";import{A as v}from"./AuthenticatedLayout-B0v8q34p.js";import{C as f}from"./CustomTextField-BTuAnPE3.js";import{C as y}from"./CustomSelectField-B-S7bTVB.js";import{P as N}from"./PriceDisplay-CUAkjGiH.js";import{P as k}from"./plus-avlLwFjE.js";import{F as w}from"./funnel-C2IfpBGu.js";import{S as C}from"./square-pen-CTrpYGSO.js";import{T as P}from"./trash-2-DJX3qbod.js";import"./Navbar-Cp-VK2OZ.js";import"./app-BLkjJg0m.js";import"./Sidebar-HDh619-e.js";import"./user-check-BkBYIEHF.js";import"./createLucideIcon-DTafSqzE.js";import"./package-BZ0coysK.js";import"./chevron-right-CHPI7KdZ.js";import"./chevron-left-CvYp6kNR.js";import"./user-D2E5EHqK.js";import"./index-DnSngz2F.js";import"./Taka-HCVrmtu1.js";function z({products:z=[],categories:S=[],statuses:I=[],flash:_}){const[A,L]=e.useState(""),[$,F]=e.useState("all"),[B,T]=e.useState("all"),[E,H]=e.useState(0),[U,W]=e.useState(10),q=["all",...S],D=["all",...I],M=z.filter(e=>{const a=e.name?.toLowerCase().includes(A.toLowerCase())||e.sku?.toLowerCase().includes(A.toLowerCase())||!1,s="all"===$||e.primary_category===$,l="all"===B||e.status===B;return a&&s&&l}),O=E*U,R=M.slice(O,O+U);return a.jsxs(v,{flash:_,children:[a.jsx(u,{title:"Product Management"}),a.jsxs("div",{className:"py-4 custom-container mx-auto md:px-[40px] md:py-[18px]",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl leading-9 font-bold text-text-primary mb-6",children:"Product Management"}),a.jsx("div",{children:a.jsx(b,{href:route("admin.products.create"),children:a.jsx(s,{variant:"outlined",size:"md",startIcon:a.jsx(k,{className:"w-4 h-4"}),children:"Add Product"})})})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-card shadow-lg rounded-lg",children:[a.jsx("div",{className:"p-6 flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[a.jsx(l,{size:"small",sx:{minWidth:300},children:a.jsx(f,{placeholder:"Search products...",value:A,onChange:e=>L(e.target.value),className:"pl-10"})}),a.jsx(l,{size:"small",sx:{minWidth:200},children:a.jsx(y,{placeholder:"Select category...",value:$,onChange:e=>F(e.target.value),label:"Category",InputProps:{startAdornment:a.jsx(t,{position:"start",children:a.jsx(w,{className:"w-4 h-4 mr-2"})})},options:q.map(e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1)}))})}),a.jsx(l,{size:"small",sx:{minWidth:200},children:a.jsx(y,{placeholder:"Select status...",value:B,onChange:e=>T(e.target.value),label:"Status",startAdornment:a.jsx(w,{className:"w-4 h-4 mr-2"}),options:D.map(e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1)}))})})]})}),a.jsxs(r,{sx:{width:"100%"},children:[a.jsx(c,{sx:{maxHeight:"500px"},className:"table-container",children:a.jsxs(i,{stickyHeader:!0,children:[a.jsx(o,{children:a.jsxs(d,{children:[a.jsx(n,{className:"table-header-cell dark:table-header-cell",sx:{position:"sticky",top:0,zIndex:10},children:a.jsx("div",{className:"flex items-center gap-2",children:"Product"})}),a.jsx(n,{className:"table-header-cell dark:table-header-cell",sx:{position:"sticky",top:0,zIndex:10},children:a.jsx("div",{className:"flex items-center gap-2",children:"Category"})}),a.jsx(n,{className:"table-header-cell dark:table-header-cell",sx:{position:"sticky",top:0,zIndex:10},children:a.jsx("div",{className:"flex items-center gap-2",children:"Price"})}),a.jsx(n,{className:"table-header-cell dark:table-header-cell",sx:{position:"sticky",top:0,zIndex:10},children:a.jsx("div",{className:"flex items-center gap-2",children:"Stock"})}),a.jsx(n,{className:"table-header-cell dark:table-header-cell",sx:{position:"sticky",top:0,zIndex:10},children:"Variants"}),a.jsx(n,{className:"table-header-cell dark:table-header-cell",sx:{position:"sticky",top:0,zIndex:10},children:"Status"}),a.jsx(n,{className:"table-header-cell dark:table-header-cell !text-center",sx:{position:"sticky",top:0,zIndex:10},children:"Actions"})]})}),a.jsx(m,{children:0===R.length?a.jsx(d,{children:a.jsx(n,{colSpan:7,className:"table-body-cell dark:table-body-cell text-center py-8",children:a.jsx(x,{variant:"body2",className:"text-muted-foreground",children:"No products found"})})}):R.map(e=>a.jsxs(d,{hover:!0,children:[a.jsx(n,{className:"table-body-cell dark:table-body-cell",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:e.primary_image?`/storage/${e.primary_image}`:"/placeholder.svg",alt:e.name,className:"w-12 h-12 rounded-lg object-cover bg-muted flex-shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx(x,{variant:"body2",className:"font-medium text-foreground truncate",children:e.name}),a.jsxs(x,{variant:"caption",className:"text-muted-foreground",children:["SKU: ",e.sku]})]})]})}),a.jsx(n,{className:"table-body-cell dark:table-body-cell",children:a.jsx(h,{label:e.primary_category,variant:"outlined",size:"small"})}),a.jsx(n,{className:"table-body-cell dark:table-body-cell",children:a.jsx(x,{variant:"body2",className:"font-semibold text-foreground",children:a.jsx(N,{minPrice:e.min_price,maxPrice:e.max_price})})}),a.jsx(n,{className:"table-body-cell dark:table-body-cell",children:a.jsx(x,{variant:"body2",className:j("font-medium",0===(e.total_stock||0)?"text-red-400":(e.total_stock||0)<20?"text-amber-400":"text-emerald-400"),children:(e.total_stock||0)>0?`${e.total_stock} in stock`:"Out of stock"})}),a.jsx(n,{className:"table-body-cell dark:table-body-cell",children:a.jsx(h,{label:`${e.variants_count||0} variants`,variant:"outlined",size:"small",sx:{bgcolor:"rgba(16, 185, 129, 0.1)",color:"#10B981",border:"none","&:hover":{bgcolor:"rgba(16, 185, 129, 0.2)"}}})}),a.jsx(n,{className:"table-body-cell dark:table-body-cell",children:a.jsx(h,{label:e.status,size:"small",sx:{bgcolor:"active"===e.status?"rgba(34, 197, 94, 0.1)":"rgba(245, 158, 11, 0.1)",color:"active"===e.status?"#22C55E":"#F59E0B",border:"none","&:hover":{bgcolor:"active"===e.status?"rgba(34, 197, 94, 0.2)":"rgba(245, 158, 11, 0.2)"}}})}),a.jsx(n,{className:"table-body-cell dark:table-body-cell",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(s,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{return a=e.id,void g.visit(route("admin.products.edit",{id:a}));var a},children:a.jsx(C,{className:"w-4 h-4"})}),a.jsx(s,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>{return a=e.id,void(window.confirm("Are you sure you want to delete this product? This action cannot be undone.")&&g.delete(route("admin.products.destroy",{id:a})));var a},children:a.jsx(P,{className:"w-4 h-4"})})]})})]},e.id))})]})}),a.jsx(p,{className:"table-pagination dark:table-pagination",rowsPerPageOptions:[5,10,25,50,100],component:"div",count:M.length,rowsPerPage:U,page:E,onPageChange:(e,a)=>H(a),onRowsPerPageChange:e=>{W(parseInt(e.target.value,10)),H(0)},labelDisplayedRows:({from:e,to:a,count:s})=>`${e}-${a} of ${-1!==s?s:`more than ${a}`}`})]})]})})]})]})}export{z as default};

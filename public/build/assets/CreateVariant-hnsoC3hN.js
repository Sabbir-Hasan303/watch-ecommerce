import{r as e,j as r,B as a,W as s}from"./mui-BKRBi9c6.js";import{c as t}from"./utils-Dp6QJa9S.js";import{H as l,L as d}from"./vendor-CXfu1X1j.js";import{C as i}from"./CustomTextField-BTuAnPE3.js";import{C as o}from"./CustomSelectField-B-S7bTVB.js";import{A as c}from"./AuthenticatedLayout-B0v8q34p.js";import{A as n}from"./arrow-left-CuUwxuCr.js";import{U as m}from"./upload--99Nij4X.js";import{I as u}from"./user-check-BkBYIEHF.js";import{X as p}from"./x-BWEyoRfZ.js";import{S as x}from"./save-b8lrRLdX.js";import"./app-BLkjJg0m.js";import"./Navbar-Cp-VK2OZ.js";import"./Sidebar-HDh619-e.js";import"./package-BZ0coysK.js";import"./createLucideIcon-DTafSqzE.js";import"./chevron-right-CHPI7KdZ.js";import"./chevron-left-CvYp6kNR.js";import"./user-D2E5EHqK.js";import"./index-DnSngz2F.js";function h({productId:h}){const[g,v]=e.useState([]),[b,j]=e.useState(!1),[f,N]=e.useState({name:"",sku:"",price:"",comparePrice:"",costPerItem:"",stock:"",weight:"",status:"active",options:{Size:"",Color:""}}),y=e=>{if(!e)return;const r=Array.from(e).map(e=>({id:Math.random().toString(36).substr(2,9),url:URL.createObjectURL(e),file:e}));v(e=>[...e,...r])},w=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?j(!0):"dragleave"===e.type&&j(!1)},C=(e,r)=>{N(a=>({...a,[e]:r}))},k=(e,r)=>{N(a=>({...a,options:{...a.options,[e]:r}}))};return r.jsxs(c,{children:[r.jsx(l,{title:"Create Product Variant"}),r.jsxs("div",{className:"py-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl leading-9 font-bold text-text-primary mb-6",children:"Create Product Variant"}),r.jsx("div",{className:"",children:r.jsx(d,{href:`/products/edit/${h}/variants`,children:r.jsxs(a,{variant:"ghost",size:"sm",className:"gap-2 text-gray-400 hover:text-white",children:[r.jsx(n,{className:"w-4 h-4"}),"Back to Variants"]})})})]}),r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx("div",{className:"max-w-5xl mx-auto space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Variant Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"space-y-2",children:r.jsx(i,{id:"name",label:"Variant Name",placeholder:"Enter variant name (e.g., Black / Large)",value:f.name,onChange:e=>C("name",e.target.value)})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsx("div",{className:"space-y-2",children:r.jsx(o,{label:"Size",value:f.options.Size,onChange:e=>k("Size",e.target.value),options:[{value:"",label:"Select Size"},{value:"XS",label:"XS"},{value:"S",label:"S"},{value:"M",label:"M"},{value:"L",label:"L"},{value:"XL",label:"XL"},{value:"XXL",label:"XXL"}]})}),r.jsx("div",{className:"space-y-2",children:r.jsx(o,{label:"Color",value:f.options.Color,onChange:e=>k("Color",e.target.value),options:[{value:"",label:"Select Color"},{value:"Black",label:"Black"},{value:"White",label:"White"},{value:"Red",label:"Red"},{value:"Blue",label:"Blue"},{value:"Green",label:"Green"},{value:"Yellow",label:"Yellow"}]})})]})]})]}),r.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Variant Images"}),r.jsx("div",{className:t("border-2 border-dashed rounded-xl p-8 transition-all duration-200",b?"border-emerald-500 bg-emerald-500/5":"border-border hover:border-emerald-500/50 hover:bg-muted/50"),onDragEnter:w,onDragLeave:w,onDragOver:w,onDrop:e=>{e.preventDefault(),e.stopPropagation(),j(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&y(e.dataTransfer.files)},children:r.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center",children:r.jsx(m,{className:"w-8 h-8 text-muted-foreground"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:"Drag and drop variant images here, or click to browse"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, GIF up to 10MB"})]}),r.jsxs(a,{type:"button",variant:"outline",onClick:()=>document.getElementById("file-upload")?.click(),className:"gap-2",children:[r.jsx(u,{className:"w-4 h-4"}),"Choose Files"]}),r.jsx("input",{id:"file-upload",type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:e=>y(e.target.files)})]})}),g.length>0&&r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:g.map((e,t)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:e.url||"/placeholder.svg",alt:`Variant ${t+1}`,className:"w-full h-32 object-cover rounded-lg border border-border"}),0===t&&r.jsx(s,{className:"absolute top-2 left-2 bg-emerald-500 text-white",children:"Primary"}),r.jsx(a,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{return r=e.id,void v(e=>e.filter(e=>e.id!==r));var r},children:r.jsx(p,{className:"w-4 h-4"})})]},e.id))})]}),r.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Pricing"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsx("div",{className:"space-y-2",children:r.jsx(i,{id:"price",label:"Price",type:"number",placeholder:"0.00",value:f.price,onChange:e=>C("price",e.target.value),InputProps:{startAdornment:r.jsx("span",{className:"text-muted-foreground mr-2",children:"$"})}})}),r.jsx("div",{className:"space-y-2",children:r.jsx(i,{id:"comparePrice",label:"Compare at Price",type:"number",placeholder:"0.00",value:f.comparePrice,onChange:e=>C("comparePrice",e.target.value),InputProps:{startAdornment:r.jsx("span",{className:"text-muted-foreground mr-2",children:"$"})}})}),r.jsx("div",{className:"space-y-2",children:r.jsx(i,{id:"costPerItem",label:"Cost per Item",type:"number",placeholder:"0.00",value:f.costPerItem,onChange:e=>C("costPerItem",e.target.value),InputProps:{startAdornment:r.jsx("span",{className:"text-muted-foreground mr-2",children:"$"})}})})]})]}),r.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Inventory"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsx("div",{className:"space-y-2",children:r.jsx(i,{id:"sku",label:"SKU",placeholder:"Enter SKU",value:f.sku,onChange:e=>C("sku",e.target.value)})}),r.jsx("div",{className:"space-y-2",children:r.jsx(i,{id:"stock",label:"Stock Quantity",type:"number",placeholder:"0",value:f.stock,onChange:e=>C("stock",e.target.value)})}),r.jsx("div",{className:"space-y-2",children:r.jsx(i,{id:"weight",label:"Weight (kg)",type:"number",placeholder:"0.0",value:f.weight,onChange:e=>C("weight",e.target.value)})})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Status"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{type:"button",onClick:()=>C("status","active"),className:t("w-full p-4 rounded-lg border-2 transition-all duration-200 text-left","active"===f.status?"border-emerald-500 bg-emerald-500/10":"border-border hover:border-emerald-500/50"),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:t("w-4 h-4 rounded-full border-2 flex items-center justify-center","active"===f.status?"border-emerald-500":"border-muted-foreground"),children:"active"===f.status&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-text-primary",children:"Active"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Variant is available for sale"})]})]})}),r.jsx("button",{type:"button",onClick:()=>C("status","inactive"),className:t("w-full p-4 rounded-lg border-2 transition-all duration-200 text-left","inactive"===f.status?"border-gray-500 bg-gray-500/10":"border-border hover:border-gray-500/50"),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:t("w-4 h-4 rounded-full border-2 flex items-center justify-center","inactive"===f.status?"border-gray-500":"border-muted-foreground"),children:"inactive"===f.status&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:"Inactive"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Variant is hidden from customers"})]})]})})]})]}),r.jsx("div",{className:"bg-card border border-border rounded-xl p-6 space-y-3",children:r.jsx(a,{onClick:()=>{alert(`Successfully created variant for product ${h}`),window.location.href=`/products/edit/${h}/variants`},className:"w-full gap-2 !bg-black dark:!bg-white !text-white dark:!text-black",variant:"primary",size:"md",startIcon:r.jsx(x,{className:"w-4 h-4"}),children:"Create Variant"})})]})]})})})]})]})}export{h as default};

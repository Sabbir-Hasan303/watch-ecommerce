import{r as e,j as s,A as a,E as t,B as r}from"./mui-BKRBi9c6.js";import{A as i}from"./AuthenticatedLayout-B0v8q34p.js";import{H as l,r as c}from"./vendor-CXfu1X1j.js";import{C as n}from"./card-DBmDQUNT.js";import{n as d}from"./index-DnSngz2F.js";import"./Navbar-Cp-VK2OZ.js";import"./app-BLkjJg0m.js";import"./Sidebar-HDh619-e.js";import"./utils-Dp6QJa9S.js";import"./user-check-BkBYIEHF.js";import"./createLucideIcon-DTafSqzE.js";import"./package-BZ0coysK.js";import"./chevron-right-CHPI7KdZ.js";import"./chevron-left-CvYp6kNR.js";import"./user-D2E5EHqK.js";function o({metaSettings:o}){const[m,x]=e.useState({dataset_id:o?.dataset_id||"",pixel_id:o?.pixel_id||"",access_token:o?.access_token||"",catalog:o?.catalog||"",test_event_code:o?.test_event_code||"",browser_tracking_enabled:!!o?.browser_tracking_enabled,server_tracking_enabled:!!o?.server_tracking_enabled}),[g,p]=e.useState(!1),h=e=>{const{name:s,value:a,type:t,checked:r}=e.target;x(e=>({...e,[s]:"checkbox"===t?r:a}))};return s.jsxs(i,{children:[s.jsx(l,{title:"Meta Integration"}),s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"space-y-6 custom-container mx-auto md:px-[40px] md:py-[18px]",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl leading-9 font-bold text-text-primary mb-2",children:"Meta (Facebook) Conversion API"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure your Facebook Conversion API settings for server-side tracking."})]}),s.jsx(n,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(a,{label:"Dataset ID (Pixel ID)",name:"dataset_id",value:m.dataset_id,onChange:h,fullWidth:!0,size:"small",placeholder:"Enter your Meta Pixel ID"}),s.jsx(a,{label:"Pixel ID (optional)",name:"pixel_id",value:m.pixel_id,onChange:h,fullWidth:!0,size:"small",placeholder:"Additional pixel ID if needed"})]}),s.jsx(a,{label:"Access Token",name:"access_token",value:m.access_token,onChange:h,fullWidth:!0,size:"small",multiline:!0,minRows:3,placeholder:"Paste your Facebook access token here"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(a,{label:"Catalog",name:"catalog",value:m.catalog,onChange:h,fullWidth:!0,size:"small",placeholder:"Your product catalog ID"}),s.jsx(a,{label:"Test Event Code",name:"test_event_code",value:m.test_event_code,onChange:h,fullWidth:!0,size:"small",placeholder:"Test event code for debugging"})]}),s.jsxs("div",{className:"border-t border-border pt-4 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Tracking Options"}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(t,{checked:m.browser_tracking_enabled,onChange:e=>h({target:{name:"browser_tracking_enabled",type:"checkbox",checked:e.target.checked}})}),s.jsx("span",{className:"text-sm",children:"Browser Side Tracking"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(t,{checked:m.server_tracking_enabled,onChange:e=>h({target:{name:"server_tracking_enabled",type:"checkbox",checked:e.target.checked}})}),s.jsx("span",{className:"text-sm",children:"Server Side Tracking"})]})]}),s.jsx(r,{variant:"outlined",onClick:()=>{p(!0),c.put(route("admin.marketing.meta.update"),m,{onSuccess:()=>{d.success("Meta settings updated successfully"),p(!1)},onError:()=>{d.error("Failed to update Meta settings"),p(!1)}})},disabled:g,children:g?"Saving...":"Save Meta Settings"})]})]})]})})]})})]})}export{o as default};
